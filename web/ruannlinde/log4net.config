<?xml version="1.0"?>
<log4net debug="true">
  <root>
    <level value="ALL" />
    <appender-ref ref="StackifyAppender" />
    <appender-ref ref="LogFileAppender" />
  </root>

  <appender name="StackifyAppender"
            type="StackifyLib.log4net.StackifyAppender, StackifyLib.log4net">
    <logicalThreadContextKeys>User,Request</logicalThreadContextKeys>
  </appender>

  <appender name="LogFileAppender"
            type="log4net.Appender.RollingFileAppender">

    <param name="File"
           value="rl.log" />
    <param name="AppendToFile"
           value="true" />
    <rollingStyle value="Size" />
    <maxSizeRollBackups value="10" />
    <maximumFileSize value="10MB" />
    <staticLogFileName value="true" />
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%-5p%d{yyyy-MM-dd HH:mm:ss.ffff} [%thread] %m [CID:%property{clientid}]%n" />
    </layout>
  </appender>
</log4net>